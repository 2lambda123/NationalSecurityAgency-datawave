spring:
  application:
    name: cache
  cloud:
    config:
      enabled: true
      # Use Consul to locate the configuration server and bootstrap app config.
      discovery:
        enabled: true
      # Always fail fast so we can retry if the config server is not up yet
      failFast: true
      # Give the config server a long time to come up and register itself in Consul
      retry:
        max-attempts: 120

---

# For the "No Messaging" profile, we need to disable the AMQP bus, our custom RabbitMQ discovery, and the RabbitMQ health indicator.
spring:
  profiles: 'nomessaging'
  cloud:
    bus:
      enabled: false
  rabbitmq:
    discovery:
      enabled: false

management:
  health:
    rabbit:
      enabled: false
