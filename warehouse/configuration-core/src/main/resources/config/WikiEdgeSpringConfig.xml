<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
http://www.springframework.org/schema/context
http://www.springframework.org/schema/context/spring-context-4.0.xsd
http://www.springframework.org/schema/util
http://www.springframework.org/schema/util/spring-util-4.0.xsd">

    <bean id="wikipedia" class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeDefinitionConfigurationHelper" scope="prototype">
        <property name="edgeAttribute2" value="REVISION_MODEL"/>
        <property name="edgeAttribute3" value="REVISION_TEXT_SPACE"/>
        <property name="activityDateField" value ="null"/>
        <property name="edges">
            <list>
                <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeDefinition">
                    <property name="edgeType" value="REDIRECT"/>
                    <property name="direction" value="bi"/>
                    <property name="AllPairs">
                        <list>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="PAGE_TITLE"/>
                                <property name="relationship" value="PAGE"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="PAGE_REDIRECT_TITLE"/>
                                <property name="relationship" value="REDIRECT"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                        </list>
                    </property>
                </bean>
                <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeDefinition">
                    <property name="edgeType" value="REVISION"/>
                    <property name="direction" value="bi"/>
                    <property name="AllPairs">
                        <list>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="REVISION_ID"/>
                                <property name="relationship" value="REVISIONID"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="PAGE_ID"/>
                                <property name="relationship" value="PAGEID"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                        </list>
                    </property>
                </bean>
                <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeDefinition">
                    <property name="edgeType" value="ASSOCIATION"/>
                    <property name="direction" value="bi"/>
                    <property name="AllPairs">
                        <list>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="PAGE_TITLE"/>
                                <property name="relationship" value="PAGE"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="PAGE_ID"/>
                                <property name="relationship" value="PAGEID"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                        </list>
                    </property>
                </bean>
                <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeDefinition">
                    <property name="edgeType" value="CONTRIBUTION"/>
                    <property name="direction" value="bi"/>
                    <property name="AllPairs">
                        <list>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="CONTRIBUTOR_ID"/>
                                <property name="relationship" value="CONTRIBUTORID"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="PAGE_ID"/>
                                <property name="relationship" value="PAGEID"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                        </list>
                    </property>
                </bean>
                <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeDefinition">
                    <property name="edgeType" value="REVISION"/>
                    <property name="direction" value="bi"/>
                    <property name="AllPairs">
                        <list>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="REVISION_ID"/>
                                <property name="relationship" value="REVISIONID"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="PAGE_ID"/>
                                <property name="relationship" value="PAGEID"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                        </list>
                    </property>
                </bean>
                <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeDefinition">
                    <property name="edgeType" value="REVISION"/>
                    <property name="direction" value="bi"/>
                    <property name="AllPairs">
                        <list>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="REVISION_ID"/>
                                <property name="relationship" value="REVISIONID"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="CONTRIBUTOR_ID"/>
                                <property name="relationship" value="CONTRIBUTORID"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                        </list>
                    </property>
                </bean>
                <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeDefinition">
                    <property name="edgeType" value="ASSOCIATION"/>
                    <property name="direction" value="bi"/>
                    <property name="AllPairs">
                        <list>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="CONTRIBUTOR_USERNAME"/>
                                <property name="relationship" value="CONTRIBUTOR"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                            <bean class="nsa.datawave.ingest.mapreduce.handler.edge.define.EdgeNode">
                                <property name="selector" value="CONTRIBUTOR_ID"/>
                                <property name="relationship" value="CONTRIBUTORID"/>
                                <property name="collection" value="PAGE_METADATA"/>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>

    </bean>

    <bean id="default.protobufedge.table.blacklist.values" class="org.springframework.beans.factory.config.SetFactoryBean">
        <property name="targetSetClass" value="java.util.HashSet"/>
        <property name="sourceSet">
            <set>
                <value>.</value>
                <value>..</value>
                <value>,</value>
                <value> </value>
                <value>  </value>
                <value>;</value>
                <value>:</value>
                <!-- <value></value> -->
                <value>"</value>
            </set>
        </property>
    </bean>


    <bean id="protobufedge.table.relationships" class="org.springframework.beans.factory.config.SetFactoryBean">
        <property name="targetSetClass" value="java.util.HashSet"/>
        <property name="sourceSet">
            <set>
                <value>TO</value>
                <value>FROM</value>
                <value>EQUIVALENCE</value>
                <value>USERNAME</value>
                <value>USERID</value>
                <value>PAGEID</value>
                <value>REVISIONID</value>
                <value>CONTRIBUTORID</value>
                <value>CONTRIBUTOR</value>
                <value>COMMENT</value>
                <value>USER</value>
                <value>PAGE</value>
                <value>REDIRECT</value>
                <value>REVISION</value>
            </set>
        </property>
    </bean>

    <bean id="protobufedge.table.collections" class="org.springframework.beans.factory.config.SetFactoryBean">
        <property name="targetSetClass" value="java.util.HashSet"/>
        <property name="sourceSet">
            <set>
                <value>PAGE_CONTENT</value>
                <value>PAGE_METADATA</value>
                <value>ENRICHMENT</value>
                <value>UNKNOWN</value>
                <value>PROCESSING</value>
            </set>
        </property>
    </bean>

</beans>
